<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.ryx.credit.dao.agent.AgentDebitCardMapper">    <select id="countQuery" resultType="java.lang.Integer">        select count(1) from (          <include refid="queryForList_Detail"/>        ) aaa    </select>    <select id="queryForList" resultType="java.util.Map">        <include refid="OracleDialectPrefix"/>        <include refid="queryForList_Detail"/>        <include refid="OracleDialectSuffix"/>    </select>    <sql id="queryForList_Detail">        select a.ID,a.AG_NAME,a.AG_STATUS,ac.CLO_TYPE,ac.CLO_REALNAME,ac.CLO_BANK_ACCOUNT,        ac.CLO_BANK,ac.CLO_BANK_BRANCH,ac.ALL_LINE_NUM,ac.BRANCH_LINE_NUM,ap.FLAG,ac.SUGGEST_STATUS,ap.ID as PAY_ID,        ac.ID as AC_ID        from A_AGENT a        left join A_AGENT_COLINFO ac on a.ID = ac.AGENT_ID        left join A_COLINFO_PAYMENT ap on ac.ID = ap.COLINFO_ID        where  a.AG_STATUS = 'Approved'        <if test="map.docPro != null and map.docPro != '' ">            and a.AG_DOC_PRO = #{map.docPro}        </if>        <if test="map.docDis != null and map.docDis != '' ">            and a.AG_DOC_DISTRICT = #{map.docDis}        </if>        <if test="map.agStatus != null and map.agStatus != '' ">            and  a.AG_STATUS = #{map.agStatus}        </if>        <if test="map.cloType != null and map.cloType != '' ">            and ac.CLO_TYPE = #{map.cloType}        </if>        <if test="map.agentName != null and map.agentName != '' ">            and a.AG_NAME = #{map.agentName}        </if>        <if test="map.agentId != null and map.agentId != '' ">            and a.ID = #{map.agentId}        </if>        <if test="map.cloRealname != null and map.cloRealname != '' ">            and ac.CLO_REALNAME = #{map.cloRealname}        </if>        <if test="map.flag != null and map.flag != '' ">            and ap.FLAG = #{map.flag}        </if>        <if test="map.sugStatus != null and map.sugStatus != '' ">            and ac.SUGGEST_STATUS = #{map.sugStatus}        </if>    </sql>    <select id="exports" resultType="java.util.Map">        select a.ID,a.AG_NAME,ac.CLO_REALNAME,ac.CLO_BANK_ACCOUNT,        ac.CLO_BANK,ac.CLO_BANK_BRANCH,ac.ALL_LINE_NUM,ac.BRANCH_LINE_NUM,        case when a.AG_STATUS = 'Approved' then '审批通过' when  a.AG_STATUS = 'Create' then '暂存' end as AG_STATUS,        case when ac.CLO_TYPE = 1 then '已生批'        when ac.CLO_TYPE = 0 then '未处理'        when ac.CLO_TYPE = 2 then '打款失败-已重试'        when ac.CLO_TYPE = 3 then '复合通过'        when ac.CLO_TYPE = 4 then '风险拦截'        when ac.CLO_TYPE = 5 then '已撤销'        when ac.CLO_TYPE = 7 then '复合中'        when ac.CLO_TYPE = 8 then '复合不通过'        when ac.CLO_TYPE = 9 then '银行处理成功'        when ac.CLO_TYPE = 11 then '打款成功'        when ac.CLO_TYPE = 12 then '打款失败'        when ac.CLO_TYPE = 20 then '银行处理失败' end as CLO_TYPE ,        case when ap.FLAG = '0' then '对私' when ap.FLAG = '2' then '对公' end as FLAG        from A_AGENT a        left join A_AGENT_COLINFO ac on a.ID = ac.AGENT_ID        left join A_COLINFO_PAYMENT ap on ac.ID = ap.COLINFO_ID        where  a.AG_STATUS = 'Approved'        <if test="map.docPro != null and map.docPro != '' ">            and a.AG_DOC_PRO = #{map.docPro}        </if>        <if test="map.docDis != null and map.docDis != '' ">            and a.AG_DOC_DISTRICT = #{map.docDis}        </if>        <if test="map.agStatus != null and map.agStatus != '' ">            and  a.AG_STATUS = #{map.agStatus}        </if>        <if test="map.cloType != null and map.cloType != '' ">            and ac.CLO_TYPE = #{map.cloType}        </if>        <if test="map.agentName != null and map.agentName != '' ">            and a.AG_NAME = #{map.agentName}        </if>        <if test="map.agentId != null and map.agentId != '' ">            and a.ID = #{map.agentId}        </if>        <if test="map.cloRealname != null and map.cloRealname != '' ">            and ac.CLO_REALNAME = #{map.cloRealname}        </if>        <if test="map.flag != null and map.flag != '' ">            and ap.FLAG = #{map.flag}        </if>        <if test="map.sugStatus != null and map.sugStatus != '' ">            and ap.SUGGEST_STATUS = #{map.sugStatus}        </if>    </select>    <select id="getBusInfoById" parameterType="java.lang.String" resultType="java.util.Map">      select  oor.ORG_NAME as ORGAN_NUM,oo.ORG_NAME as FINACE_REMIT_ORGAN      from A_AGENT_BUSINFO ab      left join o_organization oor on ab.ORGAN_NUM = oor.ORG_ID      left join o_organization oo on ab.FINACE_REMIT_ORGAN = oo.ORG_ID      where ab.AGENT_ID = #{id}    </select>    <update id="updateSuggestStatusById">        update A_AGENT_COLINFO set SUGGEST_STATUS = #{statu} where ID = #{id}    </update>    <sql id="OracleDialectPrefix">        <if test="page != null">            select * from ( select row_.*, rownum rownum_ from (        </if>    </sql>    <sql id="OracleDialectSuffix">        <if test="page != null">            <![CDATA[ ) row_ ) where rownum_ > #{page.begin} and rownum_ <= #{page.end} ]]>        </if>    </sql></mapper>